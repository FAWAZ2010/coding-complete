"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2348],{52348:function(e,s,t){t.r(s),t.d(s,{CAM_AND_MIC_ACCESS_STEPS:function(){return E}});var a=t(80318),l=t(38198),r=t(67294),c=t(67683),n=t(2932),i=t(11031),o=t(36580),d=t(11163),m=t(91838),x=t(29241),h=t(61399),u=t(31960),f=t(8056),C=t(43532),p=t(70552),j=t(78268),g=t(19589),y=t(13777),v=t(23939),k=t(48140),N=t(23634),b=t(17820),w=t(81292),S=t(85893),E={firefox:[(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.firefox.1"},"1"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.firefox.2",components:{0:(0,S.jsx)(j.Z,{className:"inline w-5"})}},"2"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.firefox.3"},"3")],safari:[(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.safari.1"},"1"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.safari.2"},"2"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.safari.3"},"3")],chrome:[(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.chrome.1",components:{0:(0,S.jsx)(g.Z,{className:"inline w-5"})}},"1"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.chrome.2"},"2"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.chrome.3"},"3")],microsoftedge:[(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.edge.1",components:{0:(0,S.jsx)(g.Z,{className:"inline w-5"})}},"1"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.edge.2"},"2"),(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixErrors.edge.3"},"3")]},_=f.i$.TRACK_COMPUTER_CHECK_SUCCESS,T=f.i$.TRACK_COMPUTER_CHECK_ERROR,R=f.i$.TRACK_DOWNLOAD_GOOGLE_CHROME_CTA_CLICK,A=f.i$.TRACK_TEST_INTERNET_SPEED_CTA_CLICK,I=function(e){var s,t=e.showSystemCheckModal,f=e.setShowSystemCheckModal,g=e.setSystemCheckSuccess,I=e.shouldCloseOnEsc,O=void 0===I||I,Z=e.autoClose,P=void 0!==Z&&Z,H=e.classroomId,L=e.isResultStoredLocally,M=void 0!==L&&L,D=e.setSystemCheckErrors,U=void 0===D?null:D,F=e.isTrialJoinPage,K=(0,u.T)(),V=K.id,Y=K.student,z=K.name,J=K.phone,G=K.email,W=K.gender,$=K.hasLaptop,B=K.signupSource,Q=K.isPaidUser,X=K.isCompetitionUser,q={userId:V,studentId:null===Y||void 0===Y?void 0:Y.id,name:z,phone:J,email:G,grade:null===Y||void 0===Y?void 0:Y.grade,gender:W,hasLaptop:$,signupSource:B,device:(0,c.mn)().device,userType:(0,C.getSegmentUserType)(Q,X)},ee=(0,p.Z)().isIndia,se=(0,x.Z)({checkBrowser:!0,checkCookies:!0,checkDevice:!0,checkScreenSize:!0,checkMicrophoneAndCamera:!0},{classroomId:H,isResultStoredLocally:M}),te=se.isChecking,ae=se.passed,le=se.systemCheckResults,re=se.runSystemCheck,ce=(0,r.useState)([]),ne=ce[0],ie=ce[1],oe=(0,r.useState)(!1),de=oe[0],me=oe[1],xe=(0,r.useState)(!1),he=xe[0],ue=xe[1];(0,r.useEffect)((function(){me((0,c.mn)().passed)}),[]),(0,r.useEffect)((function(){t&&(ie([]),re())}),[t]);var fe=function(){var e,s,t,l;(function(){var e,s,t=[];Object.entries(le).forEach((function(e){var s=(0,a.Z)(e,2),l=s[0];return!s[1].passed&&n.VV[l]&&t.push(n.VV[l])})),ie(t.length?t:[n.VV.generic]),null===U||void 0===U||U(t),ue(!(null!==(e=le.camera)&&void 0!==e&&e.passed)||!(null!==(s=le.microphone)&&void 0!==s&&s.passed))}(),g&&g(ae),F)&&(ae?(null===(e=window.globalThis)||void 0===e||null===(s=e.analytics)||void 0===s||s.track(_,q),(0,w.sleep)(5e3).then((function(){f(!1)}))):null===(t=window.globalThis)||void 0===t||null===(l=t.analytics)||void 0===l||l.track(T,q));P&&f(!1)};(0,r.useEffect)((function(){te||(0,C.isEmptyObject)(le)||!t||fe()}),[te,ae]);var Ce=null===(s=le.browser)||void 0===s?void 0:s.name.toLowerCase().replace(" ","");return(0,S.jsx)(i.Z,{isOpen:t,setIsOpen:f,width:"sm:max-w-5xl",shouldCloseOnEsc:O,children:(0,S.jsxs)(S.Fragment,{children:[!P&&(0,S.jsx)("button",{className:"absolute right-0 top-0 mr-5 mt-5",type:"button",onClick:function(){return f(!1)},children:(0,S.jsx)(j.Z,{className:"text-grey"})}),de?(0,S.jsxs)("div",{className:"flex flex-col",children:[(0,S.jsxs)("div",{className:"grid gap-6 overflow-auto thin-scroll-bar px-2 my-2",style:{maxHeight:P?"70vh":"80vh"},children:[te&&(0,S.jsxs)("div",{className:"flex flex-col items-center justify-center my-5",children:[(0,S.jsx)(o.Z,{classes:"h-10 w-10 text-orange"}),(0,S.jsx)("span",{className:"mt-5 text-2xl text-grey text-center",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.runningCheck"})})]}),!te&&(0,S.jsxs)("div",{className:"flex flex-col items-center justify-center mt-2",children:[ae?(0,S.jsx)(v.Z,{className:"text-green-200",size:40}):(0,S.jsx)(y.Z,{className:"text-orange mx-2 sm:inline hidden",size:40}),(0,S.jsx)("span",{className:"mt-2 text-2xl text-grey text-center",children:ae?N.ag._({id:F?"trialClass.joinpage:systemCheck.checkSuccessful":"trialClass.systemCheck.checkSuccessful",message:F?"Computer check completed successfully! You're all set to attend the class \u2014 this modal will close in 5 seconds, or you can close it manually.":"Computer check completed successfully! You're all set to attend the class."}):N.ag._({id:"trialClass.systemCheck.checkFail",message:"Your computer is not compatible to attend the class. You must fix it before the class starts!"})})]}),!te&&!ae&&(0,S.jsxs)("div",{className:"flex space-x-2 bg-red-50 border-l-4 border-red-200 text-grey px-5 py-2 font-600 text-lg",children:[(0,S.jsx)("p",{className:"my-2",style:{minWidth:"12rem"},children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixIssues"})}),(0,S.jsx)("div",{className:"flex flex-wrap",children:ne.map((function(e){var s=e.message,t=e.icon;return(0,S.jsxs)("div",{className:"flex items-center m-2",children:[(0,S.jsx)(k.J,{name:t,className:"text-orange mr-2 sm:inline hidden",size:18}),(0,S.jsx)("p",{children:(0,S.jsx)(b.Z,{msg:s})})]},s.id)}))})]}),!te&&he&&n.N4.includes(Ce)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"flex flex-col space-y-3 border border-grey-500 rounded-lg p-8",children:[(0,S.jsx)("h2",{className:"text-xl text-grey font-600",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.videoHeading"})}),(0,S.jsx)("video",{src:n.UV[Ce],controls:!0,className:"w-full",title:"Give camera and mic access"})]}),(0,S.jsxs)("div",{className:"flex flex-col space-y-6 border border-grey-500 rounded-lg p-8",children:[(0,S.jsx)("h2",{className:"text-xl text-grey font-600",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.fixIssueHeading"})}),(0,S.jsx)("div",{className:"flex space-x-8",children:E[Ce].map((function(e,s){return(0,S.jsxs)("div",{className:"flex flex-col w-1/3 space-y-5",children:[(0,S.jsx)(h.wY,{path:"".concat(n.HS,"browser-mic-cam-steps/"),name:"".concat(Ce,"-step-").concat(s+1),alt:"Step ".concat(s+1)}),(0,S.jsxs)("p",{className:"text-lg leading-tight",children:[(0,S.jsx)("span",{className:"font-500",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.stepText",values:{0:N.ag.number(s+1)}})})," ",e]})]},s)}))})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,S.jsxs)("div",{className:"flex flex-col bg-grey-300 rounded-md items-center p-6",children:[(0,S.jsx)(h.wY,{path:n.HS,name:"speed",alt:"measuring internet speed",className:"w-24 my-8"}),(0,S.jsxs)("div",{className:"flex flex-col h-full justify-between text-lg leading-tight",children:[(0,S.jsx)("p",{className:"text-grey",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.minimumSpeed"})}),(0,S.jsx)("a",{onClick:function(){var e,s;window.open("https://fast.com","_blank"),"/trial-class/join/"===d.default.asPath.split("?")[0]&&(null===(e=window.globalThis)||void 0===e||null===(s=e.analytics)||void 0===s||s.track(A,q))},className:"text-orange hover:underline font-600 py-2 cursor-pointer",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.testSpeed"})})]})]}),(0,S.jsxs)("div",{className:"flex flex-col bg-grey-300 rounded-md items-center p-6",children:[(0,S.jsx)(h.wY,{path:n.HS,name:"browser",alt:"chrome logo",className:"w-24 my-8"}),(0,S.jsxs)("div",{className:"flex flex-col h-full justify-between text-lg leading-tight",children:[(0,S.jsx)("p",{className:"text-grey",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.latestChrome"})}),(0,S.jsx)("button",{onClick:function(){var e,s;window.open("https://www.google.com/chrome/","_blank"),"/trial-class/join/"===d.default.asPath.split("?")[0]&&(null===(e=window.globalThis)||void 0===e||null===(s=e.analytics)||void 0===s||s.track(R,q))},className:"text-orange hover:underline font-600 py-2",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.downloadChrome"})})]})]}),(0,S.jsxs)("div",{className:"flex flex-col bg-grey-300 rounded-md items-center p-6",children:[(0,S.jsx)(h.wY,{path:n.HS,name:"support",alt:"chrome logo",className:"w-24 my-8"}),(0,S.jsx)("div",{className:"flex flex-col text-lg text-grey",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.contactUs",values:{0:ee?m.nG.label:m.Xy.label},components:{0:(0,S.jsx)("p",{}),1:(0,S.jsx)("a",{href:ee?"tel:".concat(m.nG.value):"mailto:".concat(m.Xy.value),className:"flex space-x-2 font-600 hover:underline",target:"_blank",rel:"noopener noreferrer"}),2:(0,S.jsx)(k.J,{name:ee?"Phone":"Mail",className:"w-5"}),3:(0,S.jsx)("span",{}),4:(0,S.jsx)("p",{className:"self-center"}),5:(0,S.jsx)("a",{href:"https://wa.me/".concat(m.VW.value),target:"_blank",rel:"noreferrer",className:"btn text-white bg-green-200 hover:bg-green-100 flex justify-center mt-1 text-center"})}})})]})]})]}),P&&!te&&!ae&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("button",{className:"flex justify-center py-3 px-10 self-start bg-orange text-white rounded font-600 mt-5",type:"button",onClick:function(){return d.default.reload()},children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.allIssuesFixedBtnText"})})})]}):(0,S.jsxs)("div",{className:"flex flex-col items-center justify-center my-6",children:[(0,S.jsxs)("div",{className:"flex items-center flex-col",children:[(0,S.jsx)(y.Z,{className:"text-orange mx-2",size:40}),(0,S.jsx)("h1",{className:"text-3xl text-center",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.mobileDeviceNotSupported"})})]}),(0,S.jsx)("p",{className:"max-w-lg text-center m-4 text-lg",children:(0,S.jsx)(l.cC,{id:"trialClass.systemCheck.mobileDeviceNotSupportedErrorMessage",components:{0:(0,S.jsx)("span",{className:"text-orange font-600 hover:underline"}),1:(0,S.jsx)("span",{className:"font-600"}),2:(0,S.jsx)("span",{className:"font-600"})}})})]})]})})};s.default=r.memo(I)},29241:function(e,s,t){var a=t(80318),l=t(30266),r=t(809),c=t.n(r),n=t(67294),i=t(81292),o=t(92876),d=t(31960),m=t(67683),x=t(41749),h=t(91838),u=t(2932),f=t(43532);s.Z=function(e,s){var t=(0,d.T)(),r=t.loggedIn,C=t.id,p=(0,n.useState)(!1),j=p[0],g=p[1],y=(0,n.useState)({}),v=y[0],k=y[1],N=(0,n.useState)(!1),b=N[0],w=N[1],S=function(){var e=(0,l.Z)(c().mark((function e(t,a){var l,r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userAgent=(0,m.nW)(),t.browser=(0,m.eF)(),l=(0,m.mp)(t,C,null===s||void 0===s?void 0:s.classroomId,a),e.prev=3,r="/api/v1/system-check-log/",e.next=7,(0,i.CClient)(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 7:if((n=e.sent).ok){e.next=14;break}return e.t0=Error,e.next=12,(0,f.getAPIErrorString)(n,r,l);case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:e.next=20;break;case 16:e.prev=16,e.t2=e.catch(3),console.error(e.t2),o.Tb(e.t2);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(s,t){return e.apply(this,arguments)}}(),E=function(){var t=(0,l.Z)(c().mark((function t(){var l,n,i,d,f,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(!0),t.prev=1,l={},null!==e&&void 0!==e&&e.checkBrowser&&(l.browser=(0,m.eF)(),l.browser.passed=l.browser.passed&&(0,m.nW)().passed),null!==e&&void 0!==e&&e.checkCookies&&(l.cookies=(0,m.ih)()),null!==e&&void 0!==e&&e.checkScreenSize&&(l.screenSize=(0,m.jQ)()),null!==e&&void 0!==e&&e.checkDevice&&(l.device=(0,m.mn)()),null===e||void 0===e||!e.checkMicrophoneAndCamera){t.next=17;break}return t.next=10,(0,m.sm)();case 10:n=t.sent,i=n.microphone,d=n.camera,f=n.isCameraReadable,l.microphone=i,l.camera=d,l.isCameraReadable=f;case 17:if(p=!Object.entries(l).map((function(e){return(0,a.Z)(e,2)[1].passed})).includes(!1),k(l),w(p),null!==s&&void 0!==s&&s.isResultStoredLocally&&(0,x.pj)(h.Je+C,p?u.pQ.PASSED:u.pQ.FAILED,(function(){return o.uT("Unable to store system check result")})),!r){t.next=24;break}return t.next=24,S(l,p);case 24:t.next=31;break;case 26:t.prev=26,t.t0=t.catch(1),o.Tb(t.t0),console.error(t.t0),w(!0);case 31:g(!1);case 32:case"end":return t.stop()}}),t,null,[[1,26]])})));return function(){return t.apply(this,arguments)}}();(0,n.useEffect)((function(){(null===s||void 0===s?void 0:s.isCheckRanAutomatically)&&E()}),[]);return{systemCheckResults:v,passed:b,isChecking:j,runSystemCheck:E,checkHadSystemCheckRan:function(){return(0,x.fp)(h.Je+C)}}}}}]);
//# sourceMappingURL=2348-e549089182f808a0760b.js.map