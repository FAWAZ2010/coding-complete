"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{40413:function(e,t,n){n.r(t);var r=n(15915),o=n(81923),i=n(67294),u=n(30389),c=n(85893),a=function(e){var t=e.studentID,n=e.isTrial,a=e.classroomId,l=(0,i.useState)(null),s=l[0],f=l[1];return(0,i.useEffect)((function(){r.RZ.collection(n?"trialBadge":"badges").doc(null===t||void 0===t?void 0:t.toString()).onSnapshot((function(e){var t,n;(null===(t=e.data())||void 0===t?void 0:t.rewardedAt)===a&&(n=e)&&f(n)}))}),[]),(0,c.jsx)(u.Z,{celebrationGif:null===s||void 0===s?void 0:s.data().celebrationGif,onAnimationComplete:function(){null===s||void 0===s||s.ref.update({rewardedAt:o.firestore.FieldValue.serverTimestamp()}),f(null)},play:!!s})};t.default=i.memo(a)},30389:function(e,t,n){var r=n(92809),o=n(81292),i=n(43532),u=n(67294),c=n(40725),a=n.n(c),l=n(85893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.celebrationGif,n=e.gifProps,r=e.duration,c=void 0===r?12e3:r,s=e.onAnimationComplete,d=e.play,p=(0,u.useState)(!1),b=p[0],m=p[1],v=(0,u.useState)(""),g=v[0],h=v[1],w=(0,u.useState)(!1),O=w[0],j=w[1],y=(0,u.useRef)(new Audio((0,o.staticFile)("/sounds/soft-clapping.mp3")));return(0,u.useEffect)((function(){!b&&d&&c&&(m(!0),h(t))}),[d]),b&&t?(0,l.jsxs)("div",f(f({},n),{},{className:"fixed top-0 bottom-0 left-0 right-0 z-30 flex items-center justify-center w-full h-full bg-white bg-opacity-75",children:[(0,l.jsx)("img",{className:"z-30",height:400,width:400,src:"https://codingal.s3.ap-south-1.amazonaws.com/web".concat(g),onLoad:function(){y.current&&(y.current.currentTime=0,y.current.volume=.5),(0,i.playSound)(y.current),j(!0),setTimeout((function(){var e;null===s||void 0===s||s(),null===(e=y.current)||void 0===e||e.pause(),m(!1),j(!1)}),c)}}),O&&(0,l.jsx)(a(),{className:"w-full h-full"})]})):null}}}]);
//# sourceMappingURL=413.6e02c67e4a4230f5e7ae.js.map